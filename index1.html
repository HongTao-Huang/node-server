<!doctype html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JSONP 学习</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    /*button {
        padding: 10px;
    }*/
</style>
<body>
<form class="myform" id="myForm">

</form>
<!-- <button id="button">向jack发送请求</button> -->
<!--<script src="htt／ps://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
<!--<script src="./main.js"></script>-->
<script>
    /*$('#button').on('click',()=>{
        var ajax = new XMLHttpRequest();
        ajax.onreadystatechange = ()=>{
            if(ajax.readyState === 4){
                if(ajax.status >= 200 && ajax.status <300){
                    let string = ajax.responseText;
                    console.log(string);
                }
                else if(ajax.status >= 400){
                    alert("请求失败呜呜~");
                }
            }
        }
        ajax.open('GET','http://localhost:8001/ajax');
        ajax.send();
    })*/
    // $('#button').on('click',function(){
    //     $.ajax({
    //         url: "http://127.0.0.1:8002/hht",
    //
    //         // The name of the callback parameter, as specified by the YQL service
    //         jsonp: "callback",
    //
    //         // Tell jQuery we're expecting JSONP
    //         dataType: "jsonp",
    //
    //         // Work with the response
    //         success: function( response ) {
    //             if(response === 'success'){
    //                 alert('我拿到jack的数据啦');
    //             } // server response
    //         }
    //     });
    // })

    /*button.addEventListener('click',function (){
        var functionname = 'hht' + parseInt(Math.random()*100000,10);
        window[functionname] = function (jackdata){
            if(jackdata === 'success'){
                alert('我拿到jack的数据啦');
            }
        }
        var script = document.createElement('script');
        script.src = 'http://127.0.0.1:8002/hht?callback='+functionname;
        document.body.appendChild(script);
        script.onload = function (ev) {
            ev.currentTarget.remove();
            delete window[functionname];
        }
        script.onerror = function (ev) {
            ev.currentTarget.remove();
            delete  window[functionname];
        }
    })*/
</script>
</body>
</html>